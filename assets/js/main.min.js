!function(e){function t(){try{return a in e&&e[a]}catch(t){return!1}}function i(e){return e.replace(/^d/,"___$&").replace(d,"___")}var n,o={},r=e.document,a="localStorage",s="script";if(o.disabled=!1,o.version="1.3.17",o.set=function(e,t){},o.get=function(e,t){},o.has=function(e){return void 0!==o.get(e)},o.remove=function(e){},o.clear=function(){},o.transact=function(e,t,i){null==i&&(i=t,t=null),null==t&&(t={});var n=o.get(e,t);i(n),o.set(e,n)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())n=e[a],o.set=function(e,t){return void 0===t?o.remove(e):(n.setItem(e,o.serialize(t)),t)},o.get=function(e,t){var i=o.deserialize(n.getItem(e));return void 0===i?t:i},o.remove=function(e){n.removeItem(e)},o.clear=function(){n.clear()},o.getAll=function(){var e={};return o.forEach(function(t,i){e[t]=i}),e},o.forEach=function(e){for(var t=0;t<n.length;t++){var i=n.key(t);e(i,o.get(i))}};else if(r.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),u.close(),l=u.w.frames[0].document,n=l.createElement("div")}catch(c){n=r.createElement("div"),l=r.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(n),l.appendChild(n),n.addBehavior("#default#userData"),n.load(a);var i=e.apply(o,t);return l.removeChild(n),i}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=f(function(e,t,n){return t=i(t),void 0===n?o.remove(t):(e.setAttribute(t,o.serialize(n)),e.save(a),n)}),o.get=f(function(e,t,n){t=i(t);var r=o.deserialize(e.getAttribute(t));return void 0===r?n:r}),o.remove=f(function(e,t){t=i(t),e.removeAttribute(t),e.save(a)}),o.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var i,n=0;i=t[n];n++)e.removeAttribute(i.name);e.save(a)}),o.getAll=function(e){var t={};return o.forEach(function(e,i){t[e]=i}),t},o.forEach=f(function(e,t){for(var i,n=e.XMLDocument.documentElement.attributes,r=0;i=n[r];++r)t(i.name,o.deserialize(e.getAttribute(i.name)))})}try{var p="__storejs__";o.set(p,p),o.get(p)!=p&&(o.disabled=!0),o.remove(p)}catch(c){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=o:"function"==typeof define&&define.amd?define(o):e.store=o}(Function("return this")()),this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,o,r,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)a[i]=str(i,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)n=rep[i],"string"==typeof n&&(o=str(n,l),o&&a.push(quote(n)+(gap?": ":":")+o));else for(n in l)Object.hasOwnProperty.call(l,n)&&(o=str(n,l),o&&a.push(quote(n)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,o=e[t];if(o&&"object"==typeof o)for(i in o)Object.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",n.appendChild(r.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=e(this).find(t.join(","));n=n.not("object object"),n.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),n=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),o=i/n;if(!t.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());t.attr("id",r)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);var Sidebar=function(e,t){"use strict";var i=this;return this.app=t,this.init=function(){i.app.$document.on("click",".js-action-toggle-sidebar",function(e){e.preventDefault(),i.toggleSidebar(null,!0)}),i.app.isMobile?i.toggleSidebar(!1,!1):i.toggleSidebar(store.get("sidebar",!0),!1)},this.toggleSidebar=function(e,t){(null===e||this.isVisible()!==e)&&(null===e&&(e=!this.isVisible()),null===t&&(t=!0),i.app.elements.$html.toggleClass("with-animation",t),i.app.elements.$html.toggleClass("with-sidebar",e),store.set("sidebar",e))},this.isVisible=function(){return i.app.elements.$html.hasClass("with-sidebar")},this.init(),{toggle:this.toggleSidebar}},Dropdown=function(e,t){"use strict";var i=this;return this.app=t,this.init=function(){i.app.$document.on("click",".js-dropdown-toggle",function(t){t.stopPropagation(),t.preventDefault(),e(this).toggleClass("with-dropdown")}),i.app.$document.on("click",".dropdown",function(e){e.stopPropagation()}),i.app.$document.on("click",i.hideAll)},this.hideAll=function(){t.$document.find(".js-dropdown-toggle").toggleClass("with-dropdown",!1)},this.init(),{}},Theme=function(e,t){"use strict";var i=this;this.app=t,this.state={font:"sans-serif",size:"normal",color:"white"},this.fonts=["serif","sans-serif"],this.sizes=["smaller","small","normal","large","larger"],this.colors=["white","sepia"],this.init=function(){i.initState(),i.app.$document.on("click",".js-theme-toggle",function(t){var n=e(this);switch(t.preventDefault(),n.data("toggle")){case"font":i.setFont(n.data("value"));break;case"size":i.changeSize(n.data("value"));break;case"color":i.setColor(n.data("value"))}})},this.initState=function(){e.each(i.fonts,function(e,t){i.app.elements.html.hasClass(t)&&(i.state.font=t)}),i.setFont(store.get("font",i.state.font)),e.each(i.sizes,function(e,t){i.app.elements.html.hasClass(t)&&(i.state.size=t)}),i.setSize(store.get("size",i.state.size)),e.each(i.colors,function(e,t){i.app.elements.html.hasClass(t)&&(i.state.color=t)}),i.setColor(store.get("color",i.state.color))},this.setFont=function(e){i.state.font=e,i.app.elements.html.removeClass(i.fonts.join(" ")),i.app.elements.html.addClass(e),store.set("font",e)},this.changeSize=function(e){var t,n;t=i.state.size,n=i.getNextSize(t,e),i.setSize(n)},this.setSize=function(e){i.state.size=e,i.app.elements.html.removeClass(i.sizes.join(" ")),i.app.elements.html.addClass(e),store.set("size",e)},this.getNextSize=function(t,n){var o=e.inArray(t,i.sizes);return-1===o?"normal":0>=o&&"down"===n?t:o>=4&&"up"===n?t:"up"===n?i.sizes[++o]:i.sizes[--o]},this.setColor=function(e){i.state.color=e,i.app.elements.html.removeClass(i.colors.join(" ")),i.app.elements.html.addClass(e),store.set("color",e)},this.init()},Core=function(e){"use strict";var t=this;this.$window=e(window),this.$document=e(document),this.elements={html:e("html")},this.sidebar=null,this.dropdown=null,this.theme=null,this.mobileQuery="only screen and (max-width: 600px)",this.isMobile=matchMedia(this.mobileQuery).matches,this.init=function(){t.elements.$html=e("html"),t.sidebar=new Sidebar(e,t),t.dropdown=new Dropdown(e,t),t.theme=new Theme(e,t),t.$window.load(function(){t.initEmbeddedVideos()})},this.initEmbeddedVideos=function(){var t=["iframe[src*='instagram.com'][src*='embed']","iframe[src*='soundcloud.com/player']","iframe[src*='embed.spotify.com']","iframe[src*='vine.co']"];e(".js-page-content").fitVids({customSelector:t.join()})},t.init()},App=new Core(jQuery);
//# sourceMappingURL=main.min.js.map
