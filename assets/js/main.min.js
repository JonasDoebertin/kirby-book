!function(t){function e(){try{return a in t&&t[a]}catch(e){return!1}}function i(t){return t.replace(/^d/,"___$&").replace(d,"___")}var n,o={},r=t.document,a="localStorage",s="script";if(o.disabled=!1,o.version="1.3.17",o.set=function(t,e){},o.get=function(t,e){},o.has=function(t){return void 0!==o.get(t)},o.remove=function(t){},o.clear=function(){},o.transact=function(t,e,i){null==i&&(i=e,e=null),null==e&&(e={});var n=o.get(t,e);i(n),o.set(t,n)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(t){return JSON.stringify(t)},o.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},e())n=t[a],o.set=function(t,e){return void 0===e?o.remove(t):(n.setItem(t,o.serialize(e)),e)},o.get=function(t,e){var i=o.deserialize(n.getItem(t));return void 0===i?e:i},o.remove=function(t){n.removeItem(t)},o.clear=function(){n.clear()},o.getAll=function(){var t={};return o.forEach(function(e,i){t[e]=i}),t},o.forEach=function(t){for(var e=0;e<n.length;e++){var i=n.key(e);t(i,o.get(i))}};else if(r.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),u.close(),l=u.w.frames[0].document,n=l.createElement("div")}catch(c){n=r.createElement("div"),l=r.body}var f=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(n),l.appendChild(n),n.addBehavior("#default#userData"),n.load(a);var i=t.apply(o,e);return l.removeChild(n),i}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=f(function(t,e,n){return e=i(e),void 0===n?o.remove(e):(t.setAttribute(e,o.serialize(n)),t.save(a),n)}),o.get=f(function(t,e,n){e=i(e);var r=o.deserialize(t.getAttribute(e));return void 0===r?n:r}),o.remove=f(function(t,e){e=i(e),t.removeAttribute(e),t.save(a)}),o.clear=f(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(a);for(var i,n=0;i=e[n];n++)t.removeAttribute(i.name);t.save(a)}),o.getAll=function(t){var e={};return o.forEach(function(t,i){e[t]=i}),e},o.forEach=f(function(t,e){for(var i,n=t.XMLDocument.documentElement.attributes,r=0;i=n[r];++r)e(i.name,o.deserialize(t.getAttribute(i.name)))})}try{var p="__storejs__";o.set(p,p),o.get(p)!=p&&(o.disabled=!0),o.remove(p)}catch(c){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=o:"function"==typeof define&&define.amd?define(o):t.store=o}(Function("return this")()),this.JSON||(this.JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,r,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)a[i]=str(i,l)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)n=rep[i],"string"==typeof n&&(o=str(n,l),o&&a.push(quote(n)+(gap?": ":":")+o));else for(n in l)Object.hasOwnProperty.call(l,n)&&(o=str(n,l),o&&a.push(quote(n)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
function(t){"use strict";t.fn.fitVids=function(e){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",n.appendChild(r.childNodes[1])}return e&&t.extend(i,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&e.push(i.customSelector);var n=t(this).find(e.join(","));n=n.not("object object"),n.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),n=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),o=i/n;if(!e.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());e.attr("id",r)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);var Sidebar=function(t,e){"use strict";var i=this;return this.app=e,this.init=function(){i.app.$document.on("click",".js-action-toggle-sidebar",function(t){t.preventDefault(),i.toggleSidebar(null,!0)}),i.app.isMobile?i.toggleSidebar(!1,!1):i.toggleSidebar(store.get("sidebar",!0),!1)},this.toggleSidebar=function(t,e){(null===t||this.isVisible()!==t)&&(null===t&&(t=!this.isVisible()),null===e&&(e=!0),i.app.elements.$html.toggleClass("with-animation",e),i.app.elements.$html.toggleClass("with-sidebar",t),store.set("sidebar",t))},this.isVisible=function(){return i.app.elements.$html.hasClass("with-sidebar")},this.init(),{toggle:this.toggleSidebar}},Dropdown=function(t,e){"use strict";var i=this;return this.app=e,this.init=function(){i.app.$document.on("click",".js-dropdown-toggle",function(e){e.stopPropagation(),e.preventDefault(),i.hideAll(),t(this).toggleClass("with-dropdown")}),i.app.$document.on("click",".dropdown",function(t){t.stopPropagation()}),i.app.$document.on("click",i.hideAll)},this.hideAll=function(){e.$document.find(".js-dropdown-toggle").toggleClass("with-dropdown",!1)},this.init(),{}},Theme=function(t,e){"use strict";var i=this;this.app=e,this.state={font:"sans-serif",size:"normal",color:"white"},this.fonts=["serif","sans-serif"],this.sizes=["smaller","small","normal","large","larger"],this.colors=["white","sepia"],this.init=function(){i.initState(),i.app.$document.on("click",".js-theme-toggle",function(e){var n=t(this);switch(e.preventDefault(),n.data("toggle")){case"font":i.setFont(n.data("value"));break;case"size":i.changeSize(n.data("value"));break;case"color":i.setColor(n.data("value"))}})},this.initState=function(){t.each(i.fonts,function(t,e){i.app.elements.html.hasClass(e)&&(i.state.font=e)}),i.setFont(store.get("font",i.state.font)),t.each(i.sizes,function(t,e){i.app.elements.html.hasClass(e)&&(i.state.size=e)}),i.setSize(store.get("size",i.state.size)),t.each(i.colors,function(t,e){i.app.elements.html.hasClass(e)&&(i.state.color=e)}),i.setColor(store.get("color",i.state.color))},this.setFont=function(t){i.state.font=t,i.app.elements.html.removeClass(i.fonts.join(" ")),i.app.elements.html.addClass(t),store.set("font",t)},this.changeSize=function(t){var e,n;e=i.state.size,n=i.getNextSize(e,t),i.setSize(n)},this.setSize=function(t){i.state.size=t,i.app.elements.html.removeClass(i.sizes.join(" ")),i.app.elements.html.addClass(t),store.set("size",t)},this.getNextSize=function(e,n){var o=t.inArray(e,i.sizes);return-1===o?"normal":0>=o&&"down"===n?e:o>=4&&"up"===n?e:"up"===n?i.sizes[++o]:i.sizes[--o]},this.setColor=function(t){i.state.color=t,i.app.elements.html.removeClass(i.colors.join(" ")),i.app.elements.html.addClass(t),store.set("color",t)},this.init()},Core=function(t){"use strict";var e=this;this.$window=t(window),this.$document=t(document),this.elements={html:t("html"),printButton:t(".js-print-page")},this.sidebar=null,this.dropdown=null,this.theme=null,this.mobileQuery="only screen and (max-width: 600px)",this.isMobile=matchMedia(this.mobileQuery).matches,this.init=function(){e.elements.$html=t("html"),e.sidebar=new Sidebar(t,e),e.dropdown=new Dropdown(t,e),e.theme=new Theme(t,e),e.$window.load(function(){e.initEmbeddedVideos()}),e.elements.printButton.on("click",function(t){t.preventDefault(),window.print()})},this.initEmbeddedVideos=function(){var e=["iframe[src*='instagram.com'][src*='embed']","iframe[src*='soundcloud.com/player']","iframe[src*='embed.spotify.com']","iframe[src*='vine.co']"];t(".js-page-content").fitVids({customSelector:e.join()})},e.init()},App=new Core(jQuery);
//# sourceMappingURL=main.min.js.map
