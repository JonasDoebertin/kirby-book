!function(e){function t(){try{return a in e&&e[a]}catch(t){return!1}}function n(e){return e.replace(/^d/,"___$&").replace(d,"___")}var i,r={},o=e.document,a="localStorage",s="script";if(r.disabled=!1,r.version="1.3.17",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var i=r.get(e,t);n(i),r.set(e,i)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())i=e[a],r.set=function(e,t){return void 0===t?r.remove(e):(i.setItem(e,r.serialize(t)),t)},r.get=function(e,t){var n=r.deserialize(i.getItem(e));return void 0===n?t:n},r.remove=function(e){i.removeItem(e)},r.clear=function(){i.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var t=0;t<i.length;t++){var n=i.key(t);e(n,r.get(n))}};else if(o.documentElement.addBehavior){var l,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),c.close(),l=c.w.frames[0].document,i=l.createElement("div")}catch(u){i=o.createElement("div"),l=o.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),l.appendChild(i),i.addBehavior("#default#userData"),i.load(a);var n=e.apply(r,t);return l.removeChild(i),n}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=f(function(e,t,i){return t=n(t),void 0===i?r.remove(t):(e.setAttribute(t,r.serialize(i)),e.save(a),i)}),r.get=f(function(e,t,i){t=n(t);var o=r.deserialize(e.getAttribute(t));return void 0===o?i:o}),r.remove=f(function(e,t){t=n(t),e.removeAttribute(t),e.save(a)}),r.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(a)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=f(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,o=0;n=i[o];++o)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var p="__storejs__";r.set(p,p),r.get(p)!=p&&(r.disabled=!0),r.remove(p)}catch(u){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=r:"function"==typeof define&&define.amd?define(r):e.store=r}(Function("return this")()),this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)i=rep[n],"string"==typeof i&&(r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],r=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+r+"</style>",i.appendChild(o.childNodes[1])}return t&&e.extend(n,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var i=e(this).find(t.join(","));i=i.not("object object"),i.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),r=n/i;if(!t.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);var Sidebar=function(e,t){"use strict";var n=this;return this.app=t,this.init=function(){n.app.$document.on("click",".js-action-toggle-sidebar",function(e){e.preventDefault(),n.toggleSidebar(null,!0)}),n.app.isMobile?n.toggleSidebar(!1,!1):n.toggleSidebar(store.get("sidebar",!0),!1)},this.toggleSidebar=function(e,t){(null===e||this.isVisible()!==e)&&(null===e&&(e=!this.isVisible()),null===t&&(t=!0),n.app.elements.$html.toggleClass("with-animation",t),n.app.elements.$html.toggleClass("with-sidebar",e),store.set("sidebar",e))},this.isVisible=function(){return n.app.elements.$html.hasClass("with-sidebar")},this.init(),{toggle:this.toggleSidebar}},Dropdown=function(e,t){"use strict";var n=this;return this.app=t,this.init=function(){n.app.$document.on("click",".js-dropdown-toggle",function(t){t.stopPropagation(),t.preventDefault(),n.hideAll(),e(this).toggleClass("with-dropdown")}),n.app.$document.on("click",".dropdown",function(e){e.stopPropagation()}),n.app.$document.on("click",n.hideAll)},this.hideAll=function(){t.$document.find(".js-dropdown-toggle").toggleClass("with-dropdown",!1)},this.init(),{}},Navigation=function(e,t){"use strict";var n=this;this.app=t,this.elements={prevLink:e("link[rel=prev]"),nextLink:e("link[rel=next]")},this.init=function(){n.bindPrevNextPageShortcut()},this.bindPrevNextPageShortcut=function(){n.app.$document.on("keydown",function(e){var t=e.keyCode||e.which;switch(t){case 37:n.executePrevPageShortcut();break;case 39:n.executeNextPageShortcut()}})},this.executePrevPageShortcut=function(){n.elements.prevLink.length>0&&(window.location.href=n.elements.prevLink.attr("href"))},this.executeNextPageShortcut=function(){n.elements.nextLink.length>0&&(window.location.href=n.elements.nextLink.attr("href"))},this.init()},Theme=function(e,t){"use strict";var n=this;this.app=t,this.state={font:"sans-serif",size:"normal",color:"white"},this.fonts=["serif","sans-serif"],this.sizes=["smaller","small","normal","large","larger"],this.colors=["white","sepia"],this.init=function(){n.initState(),n.app.$document.on("click",".js-theme-toggle",function(t){var i=e(this);switch(t.preventDefault(),i.data("toggle")){case"font":n.setFont(i.data("value"));break;case"size":n.changeSize(i.data("value"));break;case"color":n.setColor(i.data("value"))}})},this.initState=function(){e.each(n.fonts,function(e,t){n.app.elements.html.hasClass(t)&&(n.state.font=t)}),n.setFont(store.get("font",n.state.font)),e.each(n.sizes,function(e,t){n.app.elements.html.hasClass(t)&&(n.state.size=t)}),n.setSize(store.get("size",n.state.size)),e.each(n.colors,function(e,t){n.app.elements.html.hasClass(t)&&(n.state.color=t)}),n.setColor(store.get("color",n.state.color))},this.setFont=function(e){n.state.font=e,n.app.elements.html.removeClass(n.fonts.join(" ")),n.app.elements.html.addClass(e),store.set("font",e)},this.changeSize=function(e){var t,i;t=n.state.size,i=n.getNextSize(t,e),n.setSize(i)},this.setSize=function(e){n.state.size=e,n.app.elements.html.removeClass(n.sizes.join(" ")),n.app.elements.html.addClass(e),store.set("size",e)},this.getNextSize=function(t,i){var r=e.inArray(t,n.sizes);return-1===r?"normal":0>=r&&"down"===i?t:r>=4&&"up"===i?t:"up"===i?n.sizes[++r]:n.sizes[--r]},this.setColor=function(e){n.state.color=e,n.app.elements.html.removeClass(n.colors.join(" ")),n.app.elements.html.addClass(e),store.set("color",e)},this.init()},Core=function(e){"use strict";var t=this;this.$window=e(window),this.$document=e(document),this.elements={html:e("html"),printButton:e(".js-print-page")},this.sidebar=null,this.dropdown=null,this.theme=null,this.mobileQuery="only screen and (max-width: 600px)",this.isMobile=matchMedia(this.mobileQuery).matches,this.init=function(){t.elements.$html=e("html"),t.sidebar=new Sidebar(e,t),t.dropdown=new Dropdown(e,t),t.theme=new Theme(e,t),t.navigation=new Navigation(e,t),t.$window.load(function(){t.initEmbeddedVideos()}),t.elements.printButton.on("click",function(e){e.preventDefault(),window.print()})},this.initEmbeddedVideos=function(){var t=["iframe[src*='instagram.com'][src*='embed']","iframe[src*='soundcloud.com/player']","iframe[src*='embed.spotify.com']","iframe[src*='vine.co']"];e(".js-page-content").fitVids({customSelector:t.join()})},t.init()},App=new Core(jQuery);
//# sourceMappingURL=main.min.js.map
